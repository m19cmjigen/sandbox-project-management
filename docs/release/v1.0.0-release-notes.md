# Release Notes - v1.0.0

**リリース日**: 2026-02-23（予定）
**対象環境**: Production

## 概要

全社プロジェクト進捗可視化プラットフォームの初回リリース (v1.0.0) です。
JiraのチケットデータをPostgreSQLに格納し、組織横断でプロジェクト遅延状況を可視化します。

---

## 新機能

### バックエンド (Go REST API)

- **`GET /api/v1/organizations`** — 組織一覧をプロジェクト遅延統計付きで取得
- **`POST /api/v1/organizations`** — 組織の作成（最大3階層: 本部/部/課）
- **`PUT /api/v1/organizations/:id`** — 組織名の更新
- **`DELETE /api/v1/organizations/:id`** — 組織の削除（子組織・プロジェクト紐付けがある場合は409エラー）
- **`GET /api/v1/organizations/:id/children`** — 子組織一覧取得
- **`GET /api/v1/projects`** — プロジェクト一覧（ページネーション・組織/ステータス/ソートでフィルタ）
- **`GET /api/v1/projects/:id`** — プロジェクト詳細
- **`PUT /api/v1/projects/:id/organization`** — プロジェクトの組織割り当て
- **`GET /api/v1/issues`** — チケット一覧（ページネーション・複数条件フィルタ・ソート）
- **`GET /api/v1/issues/:id`** — チケット詳細
- **`GET /api/v1/dashboard/summary`** — 全社サマリ（プロジェクト数・チケット数・組織別ヒートマップ）
- **`GET /api/v1/dashboard/organizations/:id`** — 組織別サマリ
- **`GET /health`** / **`GET /ready`** — ヘルスチェック・レディネスチェック

### フロントエンド (React SPA)

- **ダッシュボード**: 4種類のサマリカード（総/遅延/注意/正常プロジェクト）と組織別ヒートマップ
- **組織一覧**: 組織階層ツリー（最大3レベル）と遅延ステータスの可視化
- **プロジェクト一覧**: カード形式表示、遅延ステータスフィルタ、名前/遅延数ソート、ページネーション
- **チケット一覧**: テーブル形式、遅延/ステータス/プロジェクト/担当者フィルタ、ソート、CSV出力
- **組織管理**: 組織のCRUD操作、未分類プロジェクトの組織紐付け

### データベース

- **organizations** テーブル — 組織階層（path/levelで最大3段階を管理）
- **projects** テーブル — Jiraプロジェクトメタデータ
- **issues** テーブル — Jiraチケットと遅延ステータス（DBトリガーで自動計算）
- **sync_logs** テーブル — バッチ同期履歴
- 遅延ステータス自動計算トリガー（期日ベース: RED/YELLOW/GREEN）
- project_delay_summary / organization_delay_summary ビュー

### インフラ・開発基盤

- Docker Compose による開発環境（PostgreSQL 15 + Go API）
- golang-migrate によるDBマイグレーション管理
- GitHub Actions CI/CD パイプライン（ci.yml / cd.yml）
- k6 パフォーマンステスト（smoke/load/stress）

---

## テスト結果

### ユニットテスト (Go)

```
backend/internal/infrastructure/router: PASS
カバレッジ: 組織管理・プロジェクト・チケット・ダッシュボードハンドラーをカバー
```

### E2Eテスト (Playwright)

```
実行結果: 24/24 PASS
対象: Dashboard / Projects / Issues / Organizations の主要シナリオ
```

### パフォーマンステスト (k6) — 2026-02-23 実測値

| テスト | VU数 | p(95) | エラー率 | 目標 |
|---|---|---|---|---|
| スモーク | 1 | 16ms | 0% | < 500ms, < 1% |
| 負荷 | 最大10 | 13ms | 0% | < 500ms, < 1% |
| ストレス | 最大50 | 18ms | 0% | < 2000ms, < 10% |

**全パフォーマンス目標を達成。50同時接続でもp(95)=18ms（目標2000ms比）。**

---

## バグ修正

- **空配列がJSONで`null`になる問題を修正** (PR #10)
  - 症状: 組織管理ページ (`/organizations/manage`) でエラーが発生
  - 原因: Goの`var []T`はnil初期化されJSON `null`になり、フロントエンドでTypeErrorが発生
  - 修正: 全ハンドラーで`make([]T, 0)`による明示的な初期化に変更

---

## 既知の制限事項

| 項目 | 詳細 | 対応予定 |
|---|---|---|
| Jira同期 | 手動シードデータのみ。Jira Cloud APIとの自動同期未実装 | BATCH-001〜004 |
| 認証・認可 | APIおよびフロントエンドの認証未実装 | SEC-002 |
| 本番インフラ | AWSインフラ（ECS/Aurora/CloudFront）未構築 | INFRA-001〜005 |
| プロジェクト移管 | UIからプロジェクトの所属組織変更不可 | FRONT-007 拡張 |
| レポート機能 | 期間指定レポートや履歴表示未実装 | 将来対応 |

---

## 設定・環境変数

本番環境で必要な環境変数は `docs/deploy.md` の「環境変数 (本番)」を参照してください。

---

## アップグレード手順（将来バージョン向け）

1. リリースノートで破壊的変更を確認する
2. `make db-rollback` でロールバック可能なことを確認する
3. バックアップを取得する
4. `make db-migrate` でマイグレーションを適用する
5. 新しいDockerイメージをデプロイする
6. ヘルスチェックで正常動作を確認する

問題が発生した場合は `docs/deploy.md` の「ロールバック手順」を参照してください。
